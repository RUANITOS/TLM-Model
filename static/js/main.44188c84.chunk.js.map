{"version":3,"sources":["reportWebVitals.js","components/Alertas.js","contexts/AlertasContext.js","Grid.js","components/Header.js","Editor.js","mosaicEditor.js","Login.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","__webpack_require__","e","then","bind","_ref","getCLS","getFID","getFCP","getLCP","getTTFB","Alertas","alerts","React","createElement","className","map","alert","key","id","type","message","AlertasContext","createContext","useAlertas","useContext","AlertasProvider","children","setAlerts","useState","removeAlert","prevAlerts","filter","Provider","value","addAlert","arguments","length","undefined","Date","now","setTimeout","Grid","displayIcons","setDisplayIcons","isModalOpen","setIsModalOpen","iframeSrc","setIframeSrc","isPositionSelectorActive","setIsPositionSelectorActive","isDataFetchActive","setIsDataFetchActive","hoveredPosition","setHoveredPosition","selectedMosaicData","setSelectedMosaicData","hoveredIconData","setHoveredIconData","navigate","useNavigate","fetchIconsAndMosaics","async","mosaicsResponse","fetch","headers","ngrok-skip-browser-warning","mosaicsData","json","combinedData","Promise","all","iconResponse","mosaic","id_icone","iconData","src","data","imgBlob","Blob","Uint8Array","imgUrl","URL","createObjectURL","item","error","console","useEffect","fetchMosaicByPosition","row","col","response","localStorage","setItem","JSON","stringify","document","cookie","log","positionRow","getCookie","positionCol","name","parts","split","pop","shift","closeModal","copyPositionToCookiesAndNavigate","positionText","navigator","clipboard","writeText","catch","err","updateMosaicInDatabase","mosaicData","method","Content-Type","body","posicao_linha","posicao_coluna","ok","renderIcon","icon","onMouseEnter","titulo_celula","onMouseLeave","alt","onClick","conteudo_efetivo","origemConteudo","handleIconClick","origem_conteudo","squares","Array","from","_","iconInSquare","find","onMouseOver","handleMouseOver","handlePositionSelect","updatedData","flat","togglePositionSelector","toggleDataFetch","Link","to","stopPropagation","title","frameBorder","allowFullScreen","Header","logoImage","setLogoImage","mimetype","blob","imageUrl","fetchLogoImage","IconEditor","formData","setFormData","descricao","id_implementacao","iconIds","setIconIds","selectedId","setSelectedId","action","setAction","imagePreview","setImagePreview","creationDate","setCreationDate","modificationDate","setModificationDate","fetchIconIds","handleChange","target","files","[object Object]","handleActionChange","onSubmit","preventDefault","formDataToSend","FormData","append","toISOString","url","text","Fragment","onChange","placeholder","required","accept","maxLength","dt_criacao","dt_modificacao","isArray","statusText","fetchIconById","toLocaleString","readOnly","MosaicForm","descricao_completa","descricao_resumida","mosaicId","setMosaicId","loading","setLoading","getFromLocalStorage","getItem","tituloCelula","idIcone","descricaoCompleta","descricaoResumida","conteudoEfetivo","parsedData","parse","prevFormData","isInitialLoad","setIsInitialLoad","urlParams","URLSearchParams","window","location","search","hasReloaded","get","set","toString","style","height","width","Error","Login","onLogin","username","setUsername","password","setPassword","implementation","setImplementation","setError","process","App","isAuthenticated","setIsAuthenticated","showLogin","setShowLogin","lastLogin","parseInt","Router","basename","Routes","Route","path","element","handleLogin","Editor","Navigate","ReactDOM","createRoot","getElementById","render"],"mappings":"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","file":"static/js/main.44188c84.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport '../styles/Alertas.css';\r\n\r\nconst Alertas = ({ alerts }) => {\r\n  return (\r\n    <div className=\"alertas-container\">\r\n      {alerts.map((alert) => (\r\n        <div key={alert.id} className={`alert alert-${alert.type}`}>\r\n          {alert.message}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Alertas;\r\n","import React, { createContext, useState, useContext } from 'react';\r\nimport Alertas from '../components/Alertas'; // Ajuste o caminho conforme a localização do seu componente Alertas\r\n\r\nconst AlertasContext = createContext();\r\n\r\nexport const useAlertas = () => useContext(AlertasContext);\r\n\r\nexport const AlertasProvider = ({ children }) => {\r\n  const [alerts, setAlerts] = useState([]);\r\n\r\n  const addAlert = (message, type = 'success') => {\r\n    const id = Date.now();\r\n    setAlerts([...alerts, { id, message, type }]);\r\n    setTimeout(() => removeAlert(id), 5001); // Remove automaticamente após 5 segundos\r\n  };\r\n\r\n  const removeAlert = (id) => {\r\n    setAlerts((prevAlerts) => prevAlerts.filter(alert => alert.id !== id));\r\n  };\r\n\r\n  return (\r\n    <AlertasContext.Provider value={{ addAlert }}>\r\n      {children}\r\n      <Alertas alerts={alerts} />\r\n    </AlertasContext.Provider>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { useAlertas } from './contexts/AlertasContext'; // Importa o contexto de alertas\r\n\r\nimport './styles/Grid.css';\r\n\r\nconst Grid = () => {\r\n  const rows = 15;\r\n  const cols = 30;\r\n\r\n  const [displayIcons, setDisplayIcons] = useState([]);\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [iframeSrc, setIframeSrc] = useState('');\r\n  const [isPositionSelectorActive, setIsPositionSelectorActive] = useState(false);\r\n  const [isDataFetchActive, setIsDataFetchActive] = useState(false); // Novo estado para o botão \"Pegar Dados\"\r\n  const [hoveredPosition, setHoveredPosition] = useState(null);\r\n  const [selectedMosaicData, setSelectedMosaicData] = useState(null); // Armazena dados do mosaico selecionado\r\n  const [hoveredIconData, setHoveredIconData] = useState(null); // Novo estado para armazenar os dados do ícone em hover\r\n\r\n  const navigate = useNavigate();\r\n  const { addAlert } = useAlertas();\r\n  const fetchIconsAndMosaics = async () => {\r\n    try {\r\n      // Fetch dos mosaicos\r\n      const mosaicsResponse = await fetch('https://gentle-nearly-marmoset.ngrok-free.app/api/mosaics', {\r\n        headers: { 'ngrok-skip-browser-warning': 'true' }\r\n      });\r\n\r\n      const mosaicsData = await mosaicsResponse.json();\r\n\r\n      // Para cada mosaico, buscamos o ícone correspondente\r\n      const combinedData = await Promise.all(mosaicsData.map(async (mosaic) => {\r\n        const iconResponse = await fetch(`https://gentle-nearly-marmoset.ngrok-free.app/api/icons/${mosaic.id_icone}`, {\r\n          headers: { 'ngrok-skip-browser-warning': 'true' }\r\n        });\r\n        const iconData = await iconResponse.json();\r\n\r\n        if (iconData.src && iconData.src.data) {\r\n          // Converte o array de bytes (Buffer) para um Blob\r\n          const imgBlob = new Blob([new Uint8Array(iconData.src.data)], { type: 'image/png' });\r\n          const imgUrl = URL.createObjectURL(imgBlob); // Cria a URL do objeto para exibição\r\n\r\n          // Retorna o mosaico com o ícone associado\r\n          return { ...mosaic, src: imgUrl };\r\n        }\r\n\r\n        return null; // Caso o ícone não tenha sido encontrado\r\n      }));\r\n\r\n      // Filtra mosaicos que possuem ícones associados\r\n      setDisplayIcons(combinedData.filter(item => item !== null));\r\n    } catch (error) {\r\n      console.error('Erro ao buscar ícones e mosaicos:', error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    //localStorage.clear();\r\n    //clearCookies();\r\n    fetchIconsAndMosaics();\r\n  }, []);\r\n  const clearCookies = () => {\r\n    // Limpa cookies específicos\r\n    document.cookie = 'mosaic_data=; path=/; max-age=0';\r\n    document.cookie = 'position_row=; path=/; max-age=0';\r\n    document.cookie = 'position_col=; path=/; max-age=0';\r\n  \r\n    // Se você quiser limpar todos os cookies\r\n    const cookies = document.cookie.split(\";\");\r\n  \r\n    cookies.forEach(cookie => {\r\n      const cookieName = cookie.split(\"=\")[0].trim();\r\n      document.cookie = `${cookieName}=; path=/; max-age=0`; // Expira o cookie\r\n    });\r\n  };\r\n  const fetchMosaicByPosition = async (row, col) => {\r\n    try {\r\n      const response = await fetch(`https://gentle-nearly-marmoset.ngrok-free.app/api/mosaics/position/${row}/${col}`, {\r\n        headers: { 'ngrok-skip-browser-warning': 'true' }\r\n      });\r\n      const data = await response.json();\r\n      // Salva todos os dados do mosaico selecionado na localStorage\r\n      localStorage.setItem('mosaicData', JSON.stringify(data));\r\n      // Salva dados do mosaico selecionado para alteração posterior\r\n      setSelectedMosaicData(data);\r\n      // Salvando todos os dados do mosaico nos cookies\r\n      document.cookie = `mosaic_data=${JSON.stringify(data)}; path=/; max-age=${60 * 60 * 24 * 7}`; // Salva os dados completos do mosaico nos cookies\r\n      console.log('Dados do mosaico salvos na localStorage:', data);\r\n      addAlert('Mosaico selecionado', 'success')\r\n    } catch (error) {\r\n      console.error('Erro ao buscar dados do mosaico por posição:', error);\r\n      addAlert('Erro ao buscar dados do mosaico', 'error')\r\n    }\r\n  };\r\n\r\n  const modifyMosaicPosition = async (id, newRow, newCol) => {\r\n    try {\r\n      const response = await fetch(`https://gentle-nearly-marmoset.ngrok-free.app/api/mosaics/modify/${id}`, {\r\n        method: 'PUT',\r\n        headers: { 'Content-Type': 'application/json', 'ngrok-skip-browser-warning': 'true' },\r\n        body: JSON.stringify({ posicao_linha: newRow, posicao_coluna: newCol }), // Carrega newRow e newCol para o backend\r\n      });\r\n      if (response.ok) {\r\n        addAlert('Posição do mosaico alterada!', 'success')\r\n        console.log(`Mosaico atualizado para a nova posição: Linha ${newRow}, Coluna ${newCol}`);\r\n      } else {\r\n        console.error('Erro ao atualizar posição do mosaico');\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao enviar dados de atualização:', error);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    fetchIconsAndMosaics();\r\n\r\n    const positionRow = getCookie('position_row');\r\n    const positionCol = getCookie('position_col');\r\n\r\n    if (positionRow && positionCol) {\r\n      fetchMosaicByPosition(positionRow, positionCol);\r\n    }\r\n  }, []);\r\n\r\n  const getCookie = (name) => {\r\n    const value = document.cookie;\r\n    const parts = value.split(`; ${name}=`);\r\n    if (parts.length === 2) return parts.pop().split(';').shift();\r\n    return null;\r\n  };\r\n\r\n  const handleIconClick = (origemConteudo) => {\r\n    setIframeSrc(origemConteudo);\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setIsModalOpen(false);\r\n    setIframeSrc('');\r\n  };\r\n\r\n  const togglePositionSelector = () => {\r\n    setIsPositionSelectorActive(!isPositionSelectorActive);\r\n    setHoveredPosition(null);\r\n  };\r\n\r\n  const toggleDataFetch = () => {\r\n    setIsDataFetchActive(!isDataFetchActive);\r\n    setHoveredPosition(null);\r\n  };\r\n\r\n  const handleMouseOver = (row, col) => {\r\n    if (isPositionSelectorActive || isDataFetchActive) {\r\n      setHoveredPosition({ row, col });\r\n    }\r\n  };\r\n  const handlePositionSelect = (row, col) => {\r\n    if (isDataFetchActive) {\r\n      fetchMosaicByPosition(row, col);\r\n      setIsDataFetchActive(false); // Desativa o modo \"Pegar Dados\" após a busca\r\n\r\n    } else if (isPositionSelectorActive) {\r\n      copyPositionToCookiesAndNavigate(row, col);\r\n    } else if (selectedMosaicData) {\r\n      // Modo de atualização de posição\r\n      const updatedData = { ...selectedMosaicData, posicao_linha: row, posicao_coluna: col };\r\n      localStorage.setItem('mosaicData', JSON.stringify(updatedData)); // Atualiza no localStorage\r\n      updateMosaicInDatabase(updatedData); // Atualiza no banco de dados\r\n      setSelectedMosaicData(null); // Limpa os dados do mosaico selecionado\r\n    }\r\n  };\r\n\r\n  const copyPositionToCookiesAndNavigate = (row, col) => {\r\n    document.cookie = `position_row=${row}; path=/; max-age=${60 * 60 * 24 * 7}`;\r\n    document.cookie = `position_col=${col}; path=/; max-age=${60 * 60 * 24 * 7}`;\r\n\r\n    const positionText = `Linha ${row}, Coluna ${col}`;\r\n    navigator.clipboard.writeText(positionText).then(() => {\r\n      console.log('Texto copiado para a área de transferência!');\r\n      fetchMosaicByPosition(row, col); // Busca dados do mosaico com os valores atualizados\r\n      navigate('/TLM-Producao/MosaicEditor'); // Redireciona para o MosaicEditor\r\n    }).catch((err) => {\r\n      console.error('Erro ao copiar o texto:', err);\r\n    });\r\n  };\r\n  const updateMosaicInDatabase = async (mosaicData) => {\r\n    try {\r\n      const response = await fetch(`https://gentle-nearly-marmoset.ngrok-free.app/api/mosaics/modify-position/${mosaicData.id}`, {\r\n        method: 'PUT',\r\n        headers: { 'Content-Type': 'application/json', 'ngrok-skip-browser-warning': 'true' },\r\n        body: JSON.stringify({\r\n          posicao_linha: mosaicData.posicao_linha,\r\n          posicao_coluna: mosaicData.posicao_coluna\r\n        }),\r\n      });\r\n      if (response.ok) {\r\n        addAlert('Posição do mosaico atualizada com sucesso no banco de dados!', 'success');\r\n        console.log('Posição do mosaico atualizada no banco de dados:', mosaicData);\r\n      } else {\r\n        console.error('Erro ao atualizar posição do mosaico no banco de dados');\r\n        addAlert('Erro ao atualizar posição do mosaico no banco de dados', 'error');\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao enviar atualização da posição do mosaico:', error);\r\n      addAlert('Erro ao enviar atualização da posição do mosaico', 'error');\r\n    }\r\n  };\r\n\r\n  const renderIcon = (icon) => (\r\n    <div\r\n      className=\"icon-container\"\r\n      onMouseEnter={() => setHoveredIconData({ id: icon.id, titulo_celula: icon.titulo_celula })} // Armazena os dados do ícone ao passar o mouse\r\n      onMouseLeave={() => setHoveredIconData(null)} // Limpa os dados ao sair com o mouse\r\n    >\r\n      <img\r\n        src={icon.src}\r\n        alt={icon.titulo_celula}\r\n        className=\"icon\"\r\n        onClick={() => {\r\n          if (icon.conteudo_efetivo === 0) {\r\n            handleIconClick(icon.origem_conteudo);\r\n          }\r\n        }}\r\n      />\r\n      \r\n      {hoveredIconData && hoveredIconData.id === icon.id && (\r\n        <div className=\"hover-text\">\r\n          <span>ID: {hoveredIconData.id} | </span>\r\n          <span>{hoveredIconData.titulo_celula}</span>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n\r\n  const squares = Array.from({ length: rows }, (_, row) =>\r\n    Array.from({ length: cols }, (_, col) => {\r\n      const id = `square-${col + 1}-${row + 1}`;\r\n      const iconInSquare = displayIcons.find(icon => icon.posicao_linha === row + 1 && icon.posicao_coluna === col + 1);\r\n\r\n      return (\r\n        <div\r\n          key={id}\r\n          id={id}\r\n          className=\"square\"\r\n          onMouseOver={() => handleMouseOver(row + 1, col + 1)}\r\n          onClick={() => handlePositionSelect(row + 1, col + 1)} // Passa a posição diretamente\r\n        >\r\n          {iconInSquare ? renderIcon(iconInSquare) : null}\r\n        </div>\r\n      );\r\n    })\r\n  ).flat();\r\n  return (\r\n    <div className=\"grid-container\">\r\n      <div className=\"button-container\">\r\n        <button id='teste'className='editar-mosaico' onClick={togglePositionSelector}>\r\n          {isPositionSelectorActive ? 'Desativar Seleção de Posição' : 'Selecionar Posição'}\r\n        </button>\r\n        <button id='teste2' onClick={toggleDataFetch}>\r\n          {isDataFetchActive ? 'Cancelar' : 'Reposicionar Mosaico'}\r\n        </button>\r\n        {hoveredPosition && (\r\n          <div className=\"position-indicator\">\r\n            Posição: Linha {hoveredPosition.row}, Coluna {hoveredPosition.col}\r\n          </div>\r\n        )}\r\n        <Link to=\"/TLM-Producao/MosaicEditor\">\r\n          <button id='teste3' className=\"icon-editor-button\">Editor de Mosaicos</button>\r\n        </Link>\r\n      </div>\r\n      {squares}\r\n      {isModalOpen && (\r\n        <div className=\"modal-overlay\" onClick={closeModal}>\r\n          <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\r\n            <iframe\r\n              src={iframeSrc}\r\n              title=\"Conteúdo Externo\"\r\n              className=\"iframe-content\"\r\n              frameBorder=\"0\"\r\n              allowFullScreen\r\n            />\r\n            <button className=\"close-button\" onClick={closeModal}>X</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n\r\n  );\r\n};\r\n\r\nexport default Grid;\r\n","// src/components/Header.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport '../styles/Header.css';\r\n\r\nconst Header = () => {\r\n  const [logoImage, setLogoImage] = useState(null);\r\n\r\n  // Função para buscar a imagem do logo com icon_id \"logo\"\r\n  const fetchLogoImage = async () => {\r\n    try {\r\n      const response = await fetch('https://gentle-nearly-marmoset.ngrok-free.app/api/icons/1', {\r\n        headers: {\r\n          'ngrok-skip-browser-warning': 'true'\r\n        }\r\n      });\r\n      const { src, mimetype } = await response.json();\r\n      const blob = new Blob([Uint8Array.from(src.data)], { type: mimetype });\r\n      const imageUrl = URL.createObjectURL(blob);\r\n      setLogoImage(imageUrl);\r\n    } catch (error) {\r\n      console.error('Erro ao conectar com o backend:', error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchLogoImage(); // Busca o logo ao montar o componente\r\n  }, []);\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      {logoImage ? (\r\n        <img src={logoImage} alt=\"Logo\" className=\"header-logo\" />\r\n      ) : (\r\n        <p>Carregando logo...</p>\r\n      )}\r\n      <nav>\r\n        <ul className=\"header-nav\">\r\n          \r\n        </ul>\r\n      </nav>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React, { useState, useEffect } from 'react';\r\nimport './styles/Editor.css';\r\nimport './styles/Login.css';\r\nimport Header from './components/Header';\r\n\r\nconst IconEditor = () => {\r\n  const [formData, setFormData] = useState({\r\n    id: '',\r\n    src: null,\r\n    descricao: '',\r\n    id_implementacao: '', // novo campo para id_implementacao\r\n  });\r\n  const [iconIds, setIconIds] = useState([]);\r\n  const [selectedId, setSelectedId] = useState('');\r\n  const [action, setAction] = useState('add');\r\n  const [imagePreview, setImagePreview] = useState(null);\r\n  const [creationDate, setCreationDate] = useState(null);\r\n  const [modificationDate, setModificationDate] = useState(null);\r\n\r\n  // Função para buscar os IDs de ícones\r\n  const fetchIconIds = async () => {\r\n    try {\r\n      const response = await fetch('https://gentle-nearly-marmoset.ngrok-free.app/api/icons/ids', {\r\n        headers: { 'ngrok-skip-browser-warning': 'true' }\r\n      });\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setIconIds(data);\r\n      } else {\r\n        console.error('Erro ao buscar IDs de ícones');\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao conectar com o backend:', error);\r\n    }\r\n  };\r\n\r\n  // Função para buscar um ícone por ID\r\n  const fetchIconById = async (id) => {\r\n    try {\r\n      const response = await fetch(`https://gentle-nearly-marmoset.ngrok-free.app/api/icons/${id}`, {\r\n        headers: { 'ngrok-skip-browser-warning': 'true' }\r\n      });\r\n      if (response.ok) {\r\n        const { src, descricao, id_implementacao, dt_criacao, dt_modificacao } = await response.json();\r\n\r\n        if (src && Array.isArray(src.data) && src.type) {\r\n          const blob = new Blob([Uint8Array.from(src.data)], { type: src.type });\r\n          const imageUrl = URL.createObjectURL(blob);\r\n          setImagePreview(imageUrl);\r\n        }\r\n\r\n        setCreationDate(dt_criacao);\r\n        setModificationDate(dt_modificacao);\r\n        setFormData({ descricao, id_implementacao });\r\n      } else {\r\n        console.error('Erro ao buscar o ícone:', response.statusText);\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao conectar com o backend:', error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchIconIds();\r\n  }, []);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, type, value } = e.target;\r\n    if (type === 'file') {\r\n      setFormData({ ...formData, src: e.target.files[0] });\r\n    } else {\r\n      setFormData({ ...formData, [name]: value });\r\n    }\r\n  };\r\n\r\n  const handleActionChange = (e) => {\r\n    setAction(e.target.value);\r\n    setSelectedId('');\r\n    setImagePreview(null);\r\n    setFormData({ id: '', src: null, descricao: '', id_implementacao: '' });\r\n    setCreationDate(null);\r\n    setModificationDate(null);\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    try {\r\n      const response = await fetch(`https://gentle-nearly-marmoset.ngrok-free.app/api/icons/delete/${selectedId}`, {\r\n        method: 'DELETE',\r\n        headers: { 'Content-Type': 'application/json','ngrok-skip-browser-warning': 'true' },\r\n      });\r\n\r\n      if (response.ok) {\r\n        alert('Ícone deletado com sucesso!');\r\n        fetchIconIds();\r\n        setImagePreview(null);\r\n        setFormData({ id: '', src: null, descricao: '', id_implementacao: '' });\r\n        setSelectedId('');\r\n      } else {\r\n        const error = await response.text();\r\n        console.error('Erro ao deletar o ícone:', error);\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao conectar com o backend:', error);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const formDataToSend = new FormData();\r\n\r\n    if (action === 'add') {\r\n      formDataToSend.append('icon_id', formData.id);\r\n      formDataToSend.append('src', formData.src);\r\n      formDataToSend.append('descricao', formData.descricao);\r\n      formDataToSend.append('id_implementacao', formData.id_implementacao);\r\n      formDataToSend.append('dt_criacao', new Date().toISOString());\r\n    } else if (action === 'modify') {\r\n      formDataToSend.append('icon_id', selectedId);\r\n      formDataToSend.append('src', formData.src);\r\n      formDataToSend.append('descricao', formData.descricao);\r\n      formDataToSend.append('id_implementacao', formData.id_implementacao);\r\n      formDataToSend.append('dt_modificacao', new Date().toISOString());\r\n    }\r\n\r\n    try {\r\n      const url = `https://gentle-nearly-marmoset.ngrok-free.app/api/icons/${action === 'add' ? 'add' : 'modify'}`;\r\n      const method = action === 'add' ? 'POST' : 'PUT'\r\n\r\n      const response = await fetch(url, {\r\n        method,\r\n        body: formDataToSend,\r\n        headers: { 'ngrok-skip-browser-warning': 'true' },\r\n      });\r\n\r\n      if (response.ok) {\r\n        alert(`Ícone ${action === 'add' ? 'adicionado' : 'modificado'} com sucesso!`);\r\n        fetchIconIds();\r\n        setImagePreview(null);\r\n        setFormData({ id: '', src: null, descricao: '', id_implementacao: '' });\r\n        setSelectedId('');\r\n      } else {\r\n        const error = await response.text();\r\n        console.error('Erro ao enviar os dados:', error);\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao conectar com o backend:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"icon-editor-container\">\r\n      <Header />\r\n      <div className='icon-editor-label-title'>\r\n        <h2 className=\"icon-editor-title\">Editor de ícones</h2>\r\n      </div>\r\n      <form className=\"icon-editor-form\" onSubmit={handleSubmit}>\r\n        {action === 'add' && (\r\n          <>\r\n              <select className='select' onChange={handleActionChange} value={action}>\r\n                <option value=\"add\">Adicionar Ícone</option>\r\n                <option value=\"modify\">Modificar Ícone</option>\r\n              </select>\r\n            <div className=\"form-group\">\r\n              <label className=\"icon-editor-label\">ID do Ícone:</label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"id\"\r\n                value={formData.id}\r\n                onChange={handleChange}\r\n                placeholder=\"Digite o ID do ícone\"\r\n                className=\"icon-editor-input\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label className=\"icon-editor-label\">Descrição:</label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"descricao\"\r\n                value={formData.descricao}\r\n                onChange={handleChange}\r\n                placeholder=\"Digite a descrição do ícone\"\r\n                className=\"icon-editor-input\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label className=\"icon-editor-label\">Carregar Imagem:</label>\r\n              <input\r\n                type=\"file\"\r\n                name=\"src\"\r\n                onChange={handleChange}\r\n                accept=\"image/*\"\r\n                className=\"icon-editor-input-file\"\r\n                required\r\n              />\r\n            </div>\r\n            <button type=\"submit\" className=\"icon-editor-button-salvar\">Salvar</button>\r\n          </>\r\n        )}\r\n\r\n        {action === 'modify' && (\r\n          <>\r\n              <select className='select' onChange={handleActionChange} value={action}>\r\n                <option value=\"add\">Adicionar Ícone</option>\r\n                <option value=\"modify\">Modificar Ícone</option>\r\n              </select>\r\n            <div className=\"form-group\">\r\n            <label className=\"icon-editor-label\">ID da Implementação:</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"id_implementacao\"\r\n              value={formData.id_implementacao}\r\n              onChange={handleChange}\r\n              placeholder=\"Digite o ID de implementação\"\r\n              className=\"icon-editor-input\"\r\n              required\r\n            />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label className=\"icon-editor-label\">ID do Ícone:</label>\r\n              <input\r\n                type=\"number\"\r\n                maxLength=\"3\"\r\n                value={selectedId}\r\n                onChange={(e) => {\r\n                  setSelectedId(e.target.value);\r\n                  if (e.target.value.length <= 3) {\r\n                    fetchIconById(e.target.value);\r\n                  }\r\n                }}\r\n                placeholder=\"Digite o ID do ícone\"\r\n                className=\"icon-editor-input\"\r\n                required\r\n              />\r\n            </div>\r\n              {imagePreview && (\r\n                  <div className=\"view-icon\">\r\n                    <label className=\"icon-editor-label-imagem\">Imagem Preview:</label>\r\n                    <img src={imagePreview} alt=\"Imagem preview\" className=\"icon-editor-img-preview\" />\r\n                  </div>\r\n                )}\r\n\r\n              {creationDate && (\r\n                <div className=\"form-group\">\r\n                  <label className=\"icon-editor-label\">Data de Criação:</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={new Date(creationDate).toLocaleString()}\r\n                    readOnly\r\n                    className=\"icon-editor-input\"\r\n                  />\r\n                </div>\r\n              )}\r\n\r\n              {modificationDate && (\r\n                <div className=\"form-group\">\r\n                  <label className=\"icon-editor-label\">Última Modificação:</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={new Date(modificationDate).toLocaleString()}\r\n                    readOnly\r\n                    className=\"icon-editor-input\"\r\n                  />\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"form-group\">\r\n                <label className=\"icon-editor-label\">Descrição:</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"descricao\"\r\n                  value={formData.descricao}\r\n                  onChange={handleChange}\r\n                  placeholder=\"Digite a descrição do ícone\"\r\n                  className=\"icon-editor-input\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label className=\"icon-editor-label\">Novo Ícone:</label>\r\n                <input\r\n                  type=\"file\"\r\n                  name=\"src\"\r\n                  onChange={handleChange}\r\n                  accept=\"image/*\"\r\n                  className=\"icon-editor-input-file\"\r\n                />\r\n              </div>\r\n            <div>\r\n              <button type=\"submit\" className=\"icon-editor-button-atualizar\">Atualizar</button>\r\n              <button type=\"button\" onClick={handleDelete} className=\"icon-editor-button-deletar\">Deletar</button>\r\n            </div>\r\n          </>\r\n        )}\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default IconEditor;\r\n","import React, { useState, useEffect } from 'react';\r\nimport './styles/Editor.css';\r\nimport Header from './components/Header';\r\nimport { Link } from 'react-router-dom';\r\nimport { useAlertas } from './contexts/AlertasContext'; // Importa o contexto de alertas\r\n\r\nfunction MosaicForm() {\r\n  const [formData, setFormData] = useState({\r\n    posicao_linha: '',\r\n    posicao_coluna: '',\r\n    titulo_celula: '',\r\n    id_icone: '',\r\n    descricao_completa: '',\r\n    descricao_resumida: '',\r\n    conteudo_efetivo: '',\r\n    origem_conteudo: '',\r\n  });\r\n  const [mosaicId, setMosaicId] = useState('');\r\n  const [iconIds, setIconIds] = useState([]);\r\n  const [action, setAction] = useState('add');\r\n  const { addAlert } = useAlertas();\r\n  const [loading, setLoading] = useState(true);\r\n  const [imagePreview, setImagePreview] = useState(null);\r\n  const getFromLocalStorage = (key) => {\r\n    return localStorage.getItem(key) ? localStorage.getItem(key) : '';\r\n  };\r\n\r\n  const getCookie = (name) => {\r\n    const value = `; ${document.cookie}`;\r\n    const parts = value.split(`; ${name}=`);\r\n    if (parts.length === 2) return parts.pop().split(';').shift();\r\n    return null;\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Carregar dados da localStorage e cookies apenas após o carregamento inicial da página\r\n    if (!loading) {\r\n      const id_mosaico = getFromLocalStorage('id');\r\n      const positionRow = getFromLocalStorage('position_row');\r\n      const positionCol = getFromLocalStorage('position_col');\r\n      const tituloCelula = getFromLocalStorage('titulo_celula');\r\n      const idIcone = getFromLocalStorage('id_icone');\r\n      const descricaoCompleta = getFromLocalStorage('descricao_completa');\r\n      const descricaoResumida = getFromLocalStorage('descricao_resumida');\r\n      const conteudoEfetivo = getFromLocalStorage('conteudo_efetivo');\r\n      const origemConteudo = getFromLocalStorage('origem_conteudo');\r\n\r\n      setFormData({\r\n        posicao_linha: positionRow || '',\r\n        posicao_coluna: positionCol || '',\r\n        titulo_celula: tituloCelula || '',\r\n        id_icone: idIcone || '',\r\n        descricao_completa: descricaoCompleta || '',\r\n        descricao_resumida: descricaoResumida || '',\r\n        conteudo_efetivo: conteudoEfetivo || '',\r\n        origem_conteudo: origemConteudo || '',\r\n      });\r\n\r\n      const mosaicData = getCookie('mosaic_data');\r\n      if (mosaicData) {\r\n        const parsedData = JSON.parse(mosaicData);\r\n        setFormData((prevFormData) => ({\r\n          ...prevFormData,\r\n          ...parsedData,\r\n        }));\r\n      }\r\n    }\r\n  }, [loading]);\r\n\r\n  useEffect(() => {\r\n    setLoading(false); // Definindo que a página carregou completamente\r\n  }, []);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData({\r\n      ...formData,\r\n      [name]: value,\r\n    });\r\n    if (name === 'id_icone') {\r\n      fetchIconIds(value); // Chama a função para buscar o ícone quando o ID for alterado\r\n    }\r\n  };\r\n  // Função para buscar os IDs de ícones\r\n  const fetchIconIds = async (id) => {\r\n    if (!id) return; // Não faz fetch se o ID estiver vazio\r\n    try {\r\n      const response = await fetch(`https://gentle-nearly-marmoset.ngrok-free.app/api/icons/${id}`, {\r\n        headers: { 'ngrok-skip-browser-warning': 'true' }\r\n      });\r\n      if (response.ok) {\r\n        const { src } = await response.json();\r\n        if (src && Array.isArray(src.data) && src.type) {\r\n          const blob = new Blob([Uint8Array.from(src.data)], { type: src.type });\r\n          const imageUrl = URL.createObjectURL(blob);\r\n          setImagePreview(imageUrl);\r\n        } else {\r\n          setImagePreview(null); // Se não encontrar imagem\r\n        }\r\n      } else {\r\n        setImagePreview(null); // Se falhar ao buscar o ícone\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao buscar o ícone:', error);\r\n      setImagePreview(null);\r\n    }\r\n  };\r\n  // Função para buscar um ícone por ID\r\n  const fetchIconById = async (id) => {\r\n    try {\r\n      const response = await fetch(`https://gentle-nearly-marmoset.ngrok-free.app/api/icons/${id}`, {\r\n        headers: { 'ngrok-skip-browser-warning': 'true' }\r\n      });\r\n      if (response.ok) {\r\n        const { src, } = await response.json();\r\n\r\n        if (src && Array.isArray(src.data) && src.type) {\r\n          const blob = new Blob([Uint8Array.from(src.data)], { type: src.type });\r\n          const imageUrl = URL.createObjectURL(blob);\r\n          setImagePreview(imageUrl);\r\n        }\r\n      } else {\r\n        console.error('Erro ao buscar o ícone:', response.statusText);\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao conectar com o backend:', error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchIconIds();\r\n  }, []);\r\n\r\n  const handleActionChange = (e) => {\r\n    setAction(e.target.value);\r\n    setMosaicId('');\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const response = await fetch('https://gentle-nearly-marmoset.ngrok-free.app/api/mosaics/add', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'ngrok-skip-browser-warning': 'true',\r\n        },\r\n        body: JSON.stringify(formData),\r\n      });\r\n      if (response.ok) {\r\n        addAlert('Mosaico adicionado com sucesso!', 'success');\r\n      } else {\r\n        throw new Error('Erro ao adicionar mosaico');\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n      addAlert('Erro ao adicionar mosaico.', 'error');\r\n    }\r\n  };\r\n\r\n  const handleUpdate = async (e) => {\r\n    e.preventDefault();\r\n    if (!mosaicId) {\r\n      addAlert('Por favor, forneça um ID de mosaico para modificar.', 'error');\r\n      return;\r\n    }\r\n    try {\r\n      const response = await fetch(`https://gentle-nearly-marmoset.ngrok-free.app/api/mosaics/modify/${mosaicId}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'ngrok-skip-browser-warning': 'true',\r\n        },\r\n        body: JSON.stringify(formData),\r\n      });\r\n      if (response.ok) {\r\n        addAlert('Mosaico modificado com sucesso!', 'success');\r\n      } else {\r\n        throw new Error('Erro ao modificar mosaico');\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n      addAlert('Erro ao modificar mosaico.', 'error');\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (e) => {\r\n    e.preventDefault();\r\n    if (!mosaicId) {\r\n      addAlert('Por favor, forneça um ID de mosaico para deletar.', 'error');\r\n      return;\r\n    }\r\n    try {\r\n      const response = await fetch(`https://gentle-nearly-marmoset.ngrok-free.app/api/mosaics/delete/${mosaicId}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          'ngrok-skip-browser-warning': 'true',\r\n        },\r\n      });\r\n      if (response.ok) {\r\n        addAlert('Mosaico deletado com sucesso!', 'success');\r\n      } else {\r\n        throw new Error('Erro ao deletar mosaico');\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n      addAlert('Erro ao deletar mosaico.', 'error');\r\n    }\r\n  };\r\n  const [isInitialLoad, setIsInitialLoad] = useState(true);\r\n\r\n  useEffect(() => {\r\n    // Verifica se o parâmetro `reloaded` está na URL\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    const hasReloaded = urlParams.get('reloaded');\r\n\r\n    if (isInitialLoad && !hasReloaded) {\r\n      setIsInitialLoad(false);\r\n\r\n      // Define um timer para recarregar a página após 1 segundo com o parâmetro `reloaded`\r\n      setTimeout(() => {\r\n        urlParams.set('reloaded', 'true');\r\n        window.location.search = urlParams.toString();\r\n      }, 1000);\r\n    }\r\n  }, [isInitialLoad]);\r\n  return (\r\n    <div className=\"icon-editor-container\">\r\n      <Header />\r\n      <div className=\"icon-editor-label-title\">\r\n        <h2 className=\"icon-editor-title\">Editor de Mosaicos</h2>\r\n      </div>\r\n\r\n      <form\r\n        className=\"icon-editor-form\"\r\n      >\r\n        {action === 'add' && (\r\n          <>\r\n            <div className=\"form-group\">\r\n              <label className=\"icon-editor-label\">ID do Mosaico:</label>\r\n              <input\r\n                type=\"text\"\r\n                value={mosaicId}\r\n                onChange={(e) => setMosaicId(e.target.value)}\r\n                className=\"icon-editor-input\"\r\n                placeholder=\"Digite o ID do mosaico a ser alterado\"\r\n                required\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label className=\"icon-editor-label\">Posição Linha:</label>\r\n              <input\r\n                type=\"number\"\r\n                name=\"posicao_linha\"\r\n                value={formData.posicao_linha}\r\n                onChange={handleChange}\r\n                className=\"icon-editor-input\"\r\n                required\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label className=\"icon-editor-label\">Posição Coluna:</label>\r\n              <input\r\n                type=\"number\"\r\n                name=\"posicao_coluna\"\r\n                value={formData.posicao_coluna}\r\n                onChange={handleChange}\r\n                className=\"icon-editor-input\"\r\n                required\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label className=\"icon-editor-label\">Título Célula:</label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"titulo_celula\"\r\n                value={formData.titulo_celula}\r\n                onChange={handleChange}\r\n                className=\"icon-editor-input\"\r\n                required\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label className=\"icon-editor-label\">ID Ícone:</label>\r\n              <input\r\n                type=\"number\"\r\n                name=\"id_icone\"\r\n                value={formData.id_icone}\r\n                onChange={(e) => {\r\n                  handleChange(e);\r\n                  fetchIconById(e.target.value); // Chama a função para buscar o ícone\r\n                }}\r\n                className=\"icon-editor-input\"\r\n                required\r\n              />\r\n            </div>\r\n            {imagePreview && (\r\n              <div className=\"view-icon-mosaic2\">\r\n                <label className=\"icon-editor-label-imagem\">Imagem Preview:</label>\r\n                <img src={imagePreview} alt=\"Preview\" className=\"icon-editor-img-preview\" />\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"form-group\">\r\n              <label className=\"icon-editor-label\">Descrição Completa:</label>\r\n              <textarea\r\n                name=\"descricao_completa\"\r\n                value={formData.descricao_completa}\r\n                onChange={handleChange}\r\n                className=\"icon-editor-input\"\r\n                required\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label className=\"icon-editor-label\">Descrição Resumida:</label>\r\n              <textarea\r\n                name=\"descricao_resumida\"\r\n                value={formData.descricao_resumida}\r\n                onChange={handleChange}\r\n                className=\"icon-editor-input\"\r\n                required\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              Tipo de conteudo:\r\n              <select\r\n                name=\"conteudo_efetivo\"\r\n                value={formData.conteudo_efetivo}\r\n                onChange={handleChange}\r\n                className=\"icon-editor-input\"\r\n                style={{ height: '20.6px', width:'318.6px' }}\r\n                required\r\n              >\r\n                <option value=\"0\">URL</option>\r\n                <option value=\"1\">Foto</option>\r\n                <option value=\"2\">Texto</option>\r\n                <option value=\"3\">Vídeo</option>\r\n                <option value=\"4\">Link Genérico</option>\r\n              </select>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label className=\"icon-editor-label\">Conteúdo:</label>\r\n              <textarea\r\n                name=\"origem_conteudo\"\r\n                value={formData.origem_conteudo}\r\n                onChange={handleChange}\r\n                className=\"icon-editor-input\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <button onClick={handleSubmit}id='botao-salvar' className=\"icon-editor-button\">Adicionar</button>\r\n            <button onClick={handleUpdate}id='botao-modificar' className=\"icon-editor-button-atualizar\">Atualizar</button>\r\n            <button onClick={handleDelete} id='botao-deletar' className=\"icon-editor-button-deletar\">Deletar</button>\r\n          </>\r\n        )}\r\n        <Link to='/TLM-Producao/' className=\"voltar-mosaic\">Voltar</Link>\r\n      </form>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MosaicForm;","import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './styles/Login.css';\r\n\r\nconst Login = ({ onLogin }) => {\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [implementation, setImplementation] = useState('0'); // Estado para a implementação selecionada\r\n  const [error, setError] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  const handleLogin = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (username === 'tlm' && password === '123') {\r\n      onLogin();\r\n      navigate(`/TLM-Producao?implem=${implementation}`); // Redireciona para a rota principal com a implementação selecionada\r\n    } else {\r\n      setError('Credenciais inválidas. Tente novamente.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"login-container\">\r\n      <img className=\"logosss\" src={process.env.PUBLIC_URL + '/assets/logonova.png'} alt=\"Logo\" />\r\n      <form onSubmit={handleLogin} className='main-div'>\r\n        <h2 className='panel h2'>Identificação do usuário</h2>\r\n        <p className='panel p'>Insira seu Usuário e senha</p>\r\n        <div className=\"input-group\">\r\n          <input className='form-control'\r\n            type=\"text\"\r\n            value={username}\r\n            onChange={(e) => setUsername(e.target.value)}\r\n            placeholder=\"Usuário\"\r\n          />\r\n        </div>\r\n        <div className=\"input-group\">\r\n          <input className='form-control'\r\n            type=\"password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            placeholder=\"Senha\"\r\n          />\r\n        </div>\r\n        <div className=\"implementacao\">\r\n          <label className='panel'>Implementação</label>\r\n          <select className='select-imp' value={implementation} onChange={(e) => setImplementation(e.target.value)}>\r\n            <option value=\"0\">Implementação 0</option>\r\n            <option value=\"1\">Implementação 1</option>\r\n          </select>\r\n        </div>\r\n        {error && <p className=\"error\">{error}</p>}\r\n        <button type=\"submit\" className=\"login-button\">Entrar</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;","import React, { useState, useEffect } from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport { BrowserRouter as Router, Route, Routes, Navigate } from 'react-router-dom';\r\nimport './styles/index.css';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport Grid from './Grid';\r\nimport Editor from './Editor';\r\nimport MosaicForm from './mosaicEditor';\r\nimport Login from './Login';\r\nimport { AlertasProvider } from './contexts/AlertasContext';\r\n\r\nconst LOGIN_TIMEOUT = 1000 * 60 * 1000; // 5 minutos em milissegundos\r\n\r\nconst App = () => {\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n  const [showLogin, setShowLogin] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const lastLogin = localStorage.getItem('lastLogin');\r\n    if (lastLogin && Date.now() - parseInt(lastLogin, 10) < LOGIN_TIMEOUT) {\r\n      setIsAuthenticated(true);\r\n      setShowLogin(false);\r\n    }\r\n  }, []);\r\n\r\n  const handleLogin = () => {\r\n    setIsAuthenticated(true);\r\n    setShowLogin(false);\r\n    localStorage.setItem('lastLogin', Date.now().toString()); // Armazena o tempo de login\r\n  };\r\n\r\n  return (\r\n    <AlertasProvider>\r\n      <Router basename=\"/TLM-Producao\">\r\n        <Routes>\r\n          {showLogin ? (\r\n            <Route path=\"/\" element={<Login onLogin={handleLogin} />} />\r\n          ) : (\r\n            <>\r\n              <Route path=\"/\" element={<Grid />} />\r\n              <Route path=\"/TLM-Producao/Editor\" element={<Editor />} />\r\n              <Route path=\"/TLM-Producao/Mosaiceditor\" element={<MosaicForm />} />\r\n              <Route path=\"/\" element={<Navigate to=\"/TLM-Producao\" />} />\r\n              <Route path=\"*\" element={<Navigate to=\"/\" />} />\r\n            </>\r\n          )}\r\n\r\n        </Routes>\r\n      </Router>\r\n    </AlertasProvider>\r\n  );\r\n};\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root'));\r\nroot.render(<App />);\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}